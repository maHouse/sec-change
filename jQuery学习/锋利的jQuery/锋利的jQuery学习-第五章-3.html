<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>锋利的jQuery学习-3</title>

	<style>
		*{ margin: 0; padding: 0; }
		.high{
			color: red;
		}
	</style>

	<script src="jquery-1.8.3.js"></script>
	<script>
		
		$( function() {
			$("form :input.required").each( function() {

				var $required = $("<strong class='high'>*</strong>");
				$( this ).parent().append($required);
			} );

			$('form :input').blur( function() {

				var $parent = $( this ).parent();

				if ( $(this).is('#username') ) {

					if ( this.value == "" || this.value.length < 6 ) {
						var errorMsg = 'please input more than 6 usernames';

						$parent.append('<span class="formtips onError">' + errorMsg + '</span>');
					} else {
						var okMsg = 'Correct！Success！！';
						$parent.append('<span class="formtips onSuccess">' + okMsg + '</span>');
					}
				}

				if ( $(this).is('#email') ) {

					if ( this.value == "" || ( this.value != "" && !/.+@.+\.[a-zA-Z]{2,4}$/.test( this.value ) ) ) {

						var errorMsg = "please input correct Email!!";
						$parent.append('<span class="formtips onError">' + errorMsg + '</span>');
					} else {

						var okMsg = "input Correctlly!!";
						$parent.append('<span class="formtips onSuccess">' + okMsg + '</span>');
					}
				}
			} );
		} )
	</script>
</head>
<body>
	<form action="#" method="POST">
		
		<div class="int">
			<label for="username">username:</label>
			<input type="text" id="username" class="required">
		</div>
		<div class="int">
			<label for="email">eamil:</label>
			<input type="text" id="email" class="required">
		</div>
		<div class="int">
			<label for="personinfo">Personnal Information</label>
			<input type="text" id="personinfo">
		</div>
		<div class="sub">
			<input type="submit" value="提交" id="send">
			<input type="reset" id="res">
		</div>
	</form>
</body>
</html>