<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>集合的学习</title>
</head>
<body>
	
</body>
</html>

<script>
	

	// Set()的实现
	function Set() {

		var items = {};

		// this.has = function( value ) {

		// 	return value in items;
		// }
		
		// like on
		

		this.has = function(value ) {

			return items.hasOwnProperty(value);
		}

		this.add = function( value ) {

			if ( !this.has( value ) ) {

				items[ value ] = value;
				return true;
			}

			return false;
		};

		this.remove = function( value ) {

			if ( this.has( value ) ) {

				delete items[ value ];
				return true;
			}

			return false;
		};

		this.clear = function() {

			items = {};
		}		

		// method first
		this.size = function() {

			return Object.keys( items ).length;
		}

		// method third
		
		this.sizeLegacy = function() {

			var count = 0;

			for ( var prop in items ) {

				if ( items.hasOwnProperty( prop ) ) {

					++count;
				}

				return count;
			};
		}

		//one way
		this.values = function() {

			return Object.keys( items );
		};

		// another way
		this.valuesLegacy = function() {

			var keys = [];
			for ( var key in items ) {

				keys.push( key );
			}

			return keys;
		};
	}

	//使用Set类
	
	var set = new Set();

	set.add(1);
	console.log( set.values() );
	console.log( set.has(1) );
	console.log( set.size() );

	set.add(2);
	console.log( set.values() );
	console.log( set.has(2) );
	console.log( set.size() );

	set.remove(1);
	console.log( set.values() );

	set.remove(2);
	console.log( set.values() );
</script>